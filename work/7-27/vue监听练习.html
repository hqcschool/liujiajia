<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../../common/vue.js"></script>
</head>

<body>
    <div id="app">{{msg}}</div>
    <script>
        // const vm = new Vue({
        //     el: "#app",
        //     data: {
        //         msg: "hello vue",
        //     },
        //     methods: {},
        //     computed: {
        //         // hideMsg() {
        //         //     return this.msg + "@ . @"
        //         // }
        //     },
        //     // watch: {
        //     //     msg: {
        //     //         //这里的handler是固定的,不要改
        //     //         // handler什么时候调用?当isHot发生改变时,
        //     //         //不仅可以发现被改了,还可以获取修改前和修改后的值
        //     //         handler(newValue, oldValue) {
        //     //             console.log(newValue, oldValue);
        //     //         },
        //     //         immediate: true, //默认为false,初始化时,让handler调用一下.
        //     //     },
        //     //     //也可以监视计算属性
        //     //     hideMsg: {
        //     //         handler(newValue, oldValue) {
        //     //             console.log(newValue, oldValue, "hideMsg");
        //     //         },
        //     //         immediate: true,
        //     //     }
        //     // },
        //     // watch: {
        //     //     msg() {
        //     //         console.log('msg发生了改变');
        //     //     }
        //     // }
        // });
        // vm.$watch("msg", function (a, b) {
        //     console.log("新的值" + a, "旧的值" + b);
        // })
        const vm = new Vue({
            el: "#app",
            data: {
                msg: "hello vue",
                user: {
                    name: "张三",
                    age: 18,
                },
            },
            watch: {
                //监听对象的某个属性
                "user.age": function (newValue, oldValue) {
                    console.log(newValue, oldValue);
                },
                //监听对象的所有属性
                user: {
                    handler(newValue, oldValue) {
                        console.log(newValue, oldValue);
                    },
                    deep: true,
                },
            },
        });
    </script>
</body>

</html>